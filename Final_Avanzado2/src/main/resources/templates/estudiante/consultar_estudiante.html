<!DOCTYPE html>
<html lang="en">

<head th:replace="~{plantillas/principal :: head}"></head>

<body>
  <header th:replace="~{plantillas/principal :: header}"></header>
  <div class="container py-4">
    <div class="card bg-light">
      <div class="card-header">
        <h3 class="text-secondary" th:text="${titulo}"></h3>
      </div>
      <div class="card-body shadow-lg p-3">
        <h4 class="card-title text-end">
          <a th:href="@{/plan/estudiantes/matriculanueva/{id}(id=${estudiante.id})}"
            class="btn btn-outline-success btn-sm">Matricular</a>
        </h4>
        <ul class="list-group">
          <li class="list-group-item"><b>Identificaci√≥n: </b><i th:text="${estudiante.identificacion}"></i></li>
          <li class="list-group-item"><b>Apellidos: </b><i th:text="${estudiante.apellidos}"></i></li>
          <li class="list-group-item"><b>Nombres: </b><i th:text="${estudiante.nombres}"></i></li>
          <li class="list-group-item"><b>Semestre actual: </b><i
              th:text="${#numbers.formatInteger(estudiante.semestre_actual, 1, 'COMMA')}"></i></li>
          <li class="list-group-item"><b>Programa: </b><i th:text="${estudiante.programaAcademico.nombre_programa}"></i>
          </li>
        </ul>

        <table th:if="${not #lists.isEmpty(estudiante.cursoMatriculados)}"
          class="table table-striped table-bordered table-sm mt-4">

          <thead class="thead-dark">
            <tr>
              <th>No curso</th>
              <th>Curso</th>
              <th>Periodo</th>
              <th>Estado</th>
              <th>Subtotal</th>
              <th class="text-center">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="cur : ${estudiante.cursoMatriculados}">
              <td th:text="${cur.id}"></td>
              <td th:text="${cur.curso.asignatura.nombre}"></td>
              <td th:text="${cur.periodo}"></td>
              <td th:text="${cur.estado}"></td>
              <td th:text="${#numbers.formatDecimal(cur.notaFinal, 0, 'COMMA', 1, 'POINT')}"></td>
              <td class="text-center">

              </td>
            </tr>
          </tbody>
        </table>

        <div th:text="'No hay cursos matriculados para el estudiante ' + ${estudiante.apellidos}"
          th:if="${#lists.isEmpty(estudiante.cursoMatriculados)}" class="alert alert-info mt-3">
        </div>

        <div class="text-right mt-3">
          <a th:href="@{/plan/estudiantes/listar}" class="btn btn-sm btn-light">&laquo; regresar</a>
        </div>
      </div>
    </div>
  </div>
  <footer th:replace="~{plantillas/principal :: footer}"></footer>
</body>

</html>